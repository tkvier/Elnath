<Window xmlns="https://github.com/avaloniaui"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:vm="using:AurigaPlus.ViewModels"
        xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
        xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
        mc:Ignorable="d" d:DesignWidth="1000" d:DesignHeight="600"
        x:Class="AurigaPlus.Views.MainWindow"
        x:DataType="vm:MainWindowViewModel"
        Icon="/Assets/avalonia-logo.ico"
        Title="AurigaPlus - Server Manager">

  <!-- デザイン時（プレビュー表示）用のデータコンテキスト -->
  <Design.DataContext>
      <vm:MainWindowViewModel>
        <x:Arguments>
          <x:Null/>
        </x:Arguments>
      </vm:MainWindowViewModel>
  </Design.DataContext>

  <DockPanel Margin="10">
    <!-- 上部のボタンエリア -->
    <StackPanel DockPanel.Dock="Top" Orientation="Horizontal" Spacing="10" Margin="0,0,0,10">
      <Button Content="Ragnarok Client 起動" Command="{Binding StartClientCommand}"/>
      <Button Content="パス設定" Command="{Binding OpenSettingsCommand}"/>
    </StackPanel>

    <!-- 3つのサーバー管理区画 -->
    <Grid ColumnDefinitions="*,*,*" ColumnSpacing="10">
      
      <!-- Login Server -->
      <Border Grid.Column="0" BorderBrush="Gray" BorderThickness="1">
        <DockPanel>
          <TextBlock DockPanel.Dock="Top" Text="ログインサーバー" FontSize="16" FontWeight="Bold" HorizontalAlignment="Center" Margin="5"/>
          <StackPanel DockPanel.Dock="Bottom" Orientation="Horizontal" HorizontalAlignment="Center" Spacing="10" Margin="5">
            <Button Content="再起動" Command="{Binding RestartLoginServerCommand}"/>
            <Button Content="終了" Command="{Binding StopLoginServerCommand}"/>
          </StackPanel>
          <ScrollViewer>
            <TextBox Text="{Binding LoginServerOutput}" IsReadOnly="True" TextWrapping="NoWrap" AcceptsReturn="True" FontFamily="Consolas,Menlo,Monospace"/>
          </ScrollViewer>
        </DockPanel>
      </Border>

      <!-- Char Server -->
      <Border Grid.Column="1" BorderBrush="Gray" BorderThickness="1">
        <DockPanel>
          <TextBlock DockPanel.Dock="Top" Text="キャラクターサーバー" FontSize="16" FontWeight="Bold" HorizontalAlignment="Center" Margin="5"/>
          <StackPanel DockPanel.Dock="Bottom" Orientation="Horizontal" HorizontalAlignment="Center" Spacing="10" Margin="5">
            <Button Content="再起動" Command="{Binding RestartCharServerCommand}"/>
            <Button Content="終了" Command="{Binding StopCharServerCommand}"/>
          </StackPanel>
          <ScrollViewer>
            <TextBox Text="{Binding CharServerOutput}" IsReadOnly="True" TextWrapping="NoWrap" AcceptsReturn="True" FontFamily="Consolas,Menlo,Monospace"/>
          </ScrollViewer>
        </DockPanel>
      </Border>

      <!-- Map Server -->
      <Border Grid.Column="2" BorderBrush="Gray" BorderThickness="1">
        <DockPanel>
          <TextBlock DockPanel.Dock="Top" Text="マップサーバー" FontSize="16" FontWeight="Bold" HorizontalAlignment="Center" Margin="5"/>
          <StackPanel DockPanel.Dock="Bottom" Orientation="Horizontal" HorizontalAlignment="Center" Spacing="10" Margin="5">
            <Button Content="再起動" Command="{Binding RestartMapServerCommand}"/>
            <Button Content="終了" Command="{Binding StopMapServerCommand}"/>
          </StackPanel>
          <ScrollViewer>
            <TextBox Text="{Binding MapServerOutput}" IsReadOnly="True" TextWrapping="NoWrap" AcceptsReturn="True" FontFamily="Consolas,Menlo,Monospace"/>
          </ScrollViewer>
        </DockPanel>
      </Border>
      
    </Grid>
  </DockPanel>
</Window>